#!/usr/bin/env python3
import argparse
import os

def list_directory(directory_path):
    """
    Print out the absolute paths of the contents of the directory.
    """
    for filename in os.listdir(directory_path):
        full_path = os.path.join(directory_path, filename)
        if os.path.isfile(full_path):
            print(full_path)

def log_path(file_path):
    """
    Given a relative file path, log it out correctly.
    """
    abspath = os.path.abspath(file_path)
    if os.path.isfile(abspath):
        print(abspath)
    elif os.path.isdir(abspath):
        list_directory(abspath)
    else:
        pass

def get_path_list():
    """
    Get the list of paths to log out.
    """
    parser = argparse.ArgumentParser()
    parser.add_argument("path", nargs='*', help="The directory or file to list.", type=str)
    path_list = parser.parse_args().path
    return path_list if len(path_list) > 0 else [os.getcwd()]

def main():
    """
    Entry point.
    """
    for path in get_path_list():
        log_path(path)

if __name__ == "__main__":
    main()
